{% extends 'layout/basic.html' %}

{% block content %}

  <div class="container mt-4">
    <h1 class="mb-4">Список заметок</h1>
    <a href="{% url 'note_create' %}" class="btn btn-primary mb-3">Создать новую заметку</a>
    <div class="table-responsive">
      <table class="table table-striped table-bordered">
        <thead class="thead-dark">
          <tr>
            <th>Заголовок</th>
            <th>Дата создания</th>
            <th>Действия</th>
          </tr>
        </thead>
        <tbody>
          {% for note in notes %}
            <tr>
              <td>{{ note.title }}</td>
              <td>{{ note.created_at|date:"d.m.Y H:i" }}</td> <!-- Форматирование даты -->
              <td>
                <a href="{% url 'note_edit' note.id %}" class="btn btn-sm btn-primary">Редактировать</a>
                <a href="{% url 'note_delete' note.id %}" class="btn btn-sm btn-danger" onclick="return confirm('Вы уверены, что хотите удалить эту заметку?');">Удалить</a>
                <a href="{% url 'note_detail' note.id %}" class="btn btn-sm btn-info">Подробнее</a>
              </td>
            </tr>
          {% empty %}
            <tr>
              <td colspan="3" class="text-center">Нет доступных заметок.</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

{% endblock %}